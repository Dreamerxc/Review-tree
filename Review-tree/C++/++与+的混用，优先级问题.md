#### ++与+的混用，优先级问题

最近看到一个关于运算符优先级很容易错的一个题：

```
int array[3] = { 1,2,3 };
int* p = &array[0];
cout << *p + *p++ + *++p << endl;
```

通过查阅资料：

##### 后++ 优先级最高

##### 前++ 和 解地址符（*） 优先级相同

##### \+ 优先级最低

解析：

先算p++，引用后加一， 此时第二项*p++为第一个数组元素 1，并且p指向数组第二个元素。此时 以加号为分隔，三项的优先级一致，从左至右，先算*p，此时p已经指向第二项所以 *p 为 2， 然后*++p, 该项从右至左，先算引用前加一，p指向第三项，取第三项的值为3.

2+1+3 = 6



然后通过在vs 2019验证：

![image-20200919103411465](C:\Users\谯保林\AppData\Roaming\Typora\typora-user-images\image-20200919103411465.png)

当然，也许不同的编译器优先级可能优先级不同，但是这告诉我们写程序还得按规则来，否则会和我们的所认为的往往会不同。