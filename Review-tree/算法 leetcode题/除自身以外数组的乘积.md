#### 除自身以外数组的乘积



##### 方法一：模拟

- 数组中有两个0，肯定全为0
- 数组中有一个0，除0位置其余全为0
- 数组没有0，总乘积除以本元素

```
vector<int> productExceptSelf(vector<int>& nums) {
        int count = 0,index = -1,ret = 1,m = nums.size();
        for (int i = 0;i<m;i++) {
            if (nums[i] == 0) {
                count++;
                index = i;
            }
            else ret *= nums[i];
        }
        vector<int> res(m,0);
        if (count >= 2) return res;
        if (count == 1) {
            res[index] = ret;
            return res;
        }
        for (int i = 0;i<m;i++) {
            res[i] = ret/nums[i];
        }
        return res;
    }
```

##### 方法二：左数组乘以右数组

```
vector<int> productExceptSelf(vector<int>& nums) {
        int m = nums.size();
        if (m==0) return {};
        vector<int> left(m,0),right(m,0);
        left[0] = 1;
        right[m-1] = 1;
        for (int i = 1;i<m;i++) {
            left[i] = nums[i-1] * left[i-1];
            right[m-i-1] = nums[m-i] * right[m-i];
        } 
        vector<int> res(m,0);
        for (int i = 0;i<m;i++) {
            res[i] = left[i]*right[i];
        }
        return res;
    }
```

