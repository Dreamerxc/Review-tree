#### Linux命令



##### ls:

```
-a :列出目录所有文件，包括以.开始的隐藏文件
-A :列出除.及..的其他文件
-r :反序排列
-t :以文件修改时间排序
-s :以文件大小写排序
-h :以易读大小显示
-l :除了文件名大小，还将文件的权限，所有者，文件大小等信息详细列出来

ls -l t*  : 列出当前目录所有以“t"开头的目录的详细内容
ls | sed "s:^'pwd'/:"  : 列出文件的绝对路径（不包含隐藏文件）
find $pwd -maxdepth 1 | xargs ls -ld : 列出文件绝对路径（包含隐藏文件）
```



##### cd: 切换目录



##### pwd: 

```
pwd : 查看当前路径
pwd -P : 查看软链接的实际路径
```



##### mkdir : 创建文件夹

```
mkdir t: 在当前目录下创建名为t的文件夹
mkdir -p /tmp/test/t : 在tmp目录下创建路径为/tmp/test/t的目录，若不存在，则创建
```



##### rm : 删除功能

```
rm -i *.log : 删除任何.log文件，删除前需要逐一确认
rm -rf test : 删除test子目录以及子目录所有档案删除，并且不用一一确认
rm -- -f* : 删除以-f开头的文件
```



##### rmdir: 从一个目录中删除一个或多个子目录项，删除某目录时也必须具有对其父目录的写权限

```
rmdir -p parent/child
```



##### mv : 移动文件或修改文件名

```
mv test.log test1.txt : 将文件test.log 重命名为 test1.txt
mv log1.txt log2.txt log3.txt /test3 : 将log1.txt log2.txt log3.txt文件移动到test3文件夹下
mv * ../ : 移动当前文件夹的所有文件到上一级目录
```



##### cp : 将源文件复制至目标文件，或将多个源文件复制至目标目录

```
-i : 提示
-r : 复制目录及目录内的所有项目
-a : 复制的文件与原文件时间一样

cp -ai a.txt test : 复制a.txt 到text目录下
cp -s a.txt link_a.txt : 为a.txt建立一个链接
```



##### cat : 

```
1, 一次显示整个文件
cat filename
2, 从键盘创建一个文件
cat > filename
3, 将几个文件合并为一个文件
cat file1,file2 > file
```



##### more : 功能类似于 cat, more 会以一页一页的显示方便使用者逐页阅读，而最基本的指令就是按空白键（space）就往下一页显示，按 b 键就会往回（back）一页显示。

```
more +3 text.txt : 显示文件中第三行的内容
ls -l | more -5 : 在所列出的文件目录详细信息，借助管道使每次显示5行
```



##### less : less 与 more 类似，但使用 less 可以随意浏览文件，而 more 仅能向前移动，却不能向后移动，而且 less 在查看之前不会加载整个文件

```
less log1.txt log2.txt : 查看多个文件
退出less : q
```



##### head : 

```
head 1.log -n 20 : 显示1.log文件中的前20行
head -c 20 l.log : 显示1.log文件前20个字节
head -n -10 1.log : 显示1.log最后10行
```



##### tail : 用于显示文件末尾内容

```
-f 循环读取，常用来查看递增的日志文件
-n<行数> 显示行数（从后向前）

tail -n -10 1.log : 显示第10行到末尾行
tail -n 10 1.log : 显示最后10行数据
```



##### which：在PATH路径下，搜索某个系统命令的位置，并返回第一个搜索结果

```
which ls : 查看ls命令是否存在
which cd : cd命令为内建命令，所以查不到

which     查看可执行文件的位置。
whereis 查看文件的位置。
locate  配合数据库查看文件位置。
find        实际搜寻硬盘查询文件名称。
```



##### whereis : whereis 命令只能用于程序名的搜索，而且只搜索二进制文件（参数-b）、man说明文件（参数-m）和源代码文件（参数-s）

```
whereis locate : 查找locate程序相关的文件
whereis -s locate : 查看locate的源代码
whereis -m locate : 查找locate的帮助文件
```



##### locate :  通过搜寻系统内建数据库达到快速找到档案。



##### find : 在文件树中查找文件，并作出相应的处理

命令格式：

```
find pathname -options [-print -exec -ok ...]
```

命令参数：

```
pathname: find命令所查找的目录路径。例如用.来表示当前目录，用/来表示系统根目录。
-print： find命令将匹配的文件输出到标准输出。
-exec： find命令对匹配的文件执行该参数所给出的shell命令。相应命令的形式为'command' {  } \;，注意{   }和\；之间的空格。
-ok： 和-exec的作用相同，只不过以一种更为安全的模式来执行该参数所给出的shell命令，在执行每一个命令之前，都会给出提示，让用户来确定是否执行。
```

命令选项：

```
-name 按照文件名查找文件
-perm 按文件权限查找文件
-user 按文件属主查找文件
-group  按照文件所属的组来查找文件。
-type  查找某一类型的文件，诸如：
   b - 块设备文件
   d - 目录
   c - 字符设备文件
   l - 符号链接文件
   p - 管道文件
   f - 普通文件

-size n :[c] 查找文件长度为n块文件，带有c时表文件字节大小
-amin n   查找系统中最后N分钟访问的文件
-atime n  查找系统中最后n*24小时访问的文件
-cmin n   查找系统中最后N分钟被改变文件状态的文件
-ctime n  查找系统中最后n*24小时被改变文件状态的文件
-mmin n   查找系统中最后N分钟被改变文件数据的文件
-mtime n  查找系统中最后n*24小时被改变文件数据的文件
(用减号-来限定更改时间在距今n日以内的文件，而用加号+来限定更改时间在距今n日以前的文件。 )
-maxdepth n 最大查找目录深度
-prune 选项来指出需要忽略的目录。在使用-prune选项时要当心，因为如果你同时使用了-depth选项，那么-prune选项就会被find命令忽略
-newer 如果希望查找更改时间比某个文件新但比另一个文件旧的所有文件，可以使用-newer选项
```



```
find -atime -2 : 查找48小时内修改过的文件 
find ./ -name '*.log' : 在当前目录下查找以.log结尾的文件

-exec 参数后面跟的是 command 命令，它的终止是以 ; 为结束标志的，所以这句命令后面的分号是不可缺少的，考虑到各个系统中分号会有不同的意义，所以前面加反斜杠。{} 花括号代表前面find查找出来的文件名
find . -type f -mtime +10 -exec rm -f {} \;  在当前目录中查找更改时间在10日以前的文件并删除它们
```



##### chomd :用于改变linux系统文件或目录的访问权限



##### tar : 用来压缩和解压文件。tar本身不具有压缩功能，只具有打包功能，有关压缩及解压缩是调用其他的功能来完成。

```
-c 建立新的压缩文件
-f 指定压缩文件
-r 添加文件到已经压缩文件包中
-u 添加改了和现有的文件到压缩包中
-x 从压缩包中抽取文件
-t 显示压缩文件中的内容
-z 支持gzip压缩
-j 支持bzip2压缩
-Z 支持compress解压文件
-v 显示操作过程
```



```
tar -zcvf /tmp/etc.tar.gz /etc  : 将/etc下所有文件及目录都打包到指定目录
tar -ztvf /tmp/etc.tar.gz  : 查看刚刚打包的内容
```



##### chown : 将指的文件的拥有着改为指定的用户或组



##### df : 显示磁盘使用空间

```
-a 全部文件系统列表
-h 以方便阅读的方式显示信息
-i 显示inode信息
-k 区块为1024字节
-l 只显示本地磁盘
-T 列出文件系统类型
```



##### In ：为文件在另外一个位置建立一个同步的链接，当在不同目录需要该问题时，就不需要为每一个目录创建同样的文件（默认情况下产生硬链接）

##### 软链接： 以路径形式存在（类似于windows操作系统的快捷方式），且可以跨文件系统。

##### 硬链接： 以文件副本的形式存在，但不占用实际空间（在linux文件系统中，保存在磁盘区间中的文件不管是什么类型都给它分配一个编号，称为索引节点。所以多个文件指向同一个索引节点的情况就是硬链接）



##### ln命令会保持每一处链接文件的同步性，所以不论改变哪一处，其他文件都会发生向相同的变化

```
ln -sv /etc/test1 /opt/test2  : 在/opt/test2文件下建立/etc/test1的软链接
```



##### date : 显示或设定系统的日期与时间



##### cal : 可以显示公历

```
cal 9 2020 : 会显示出2020年9月的日历
```



##### grep : 全局正则表达式搜索

```
-c: 只输出匹配行的数目
-i: 不区分大小写
-n：显示匹配行以及行号
-l：查询多文件的时候只输出包含匹配字符的文件名
-v：反向匹配，即显示不匹配的行
-h: 查询的时候不适用文件名
-s：不显示错误信息
```

[grep常用场景](https://my.oschina.net/u/3412738/blog/1036638)



##### wc : 统计指定文件中的字节数，字数，行数，并将统计结果输出

```
-c 统计字节数
-l 统计行数
-m 统计字符数
-w 统计词数，一个字被定义为由空白、跳格或换行字符分隔的字符串
```

```
cat test.txt | wc -l  : 统计输出结果的行数
```





##### ps : 查看当前运行的进程状态，一次性查看

ps工具标识进程的5种状态码

```
D 不可中断 uninterruptible sleep (usually IO)
R 运行 runnable (on run queue)
S 中断 sleeping
T 停止 traced or stopped
Z 僵死 a defunct (”zombie”) process
```

命令参数：

```
-A 显示所有进程
a 显示所有进程
-a 显示同一终端下所有进程
c 显示进程真实名称
e 显示环境变量
f 显示进程间的关系
r 显示当前终端运行的进程
-aux 显示所有包含其它使用的进程
```



##### top : 显示当前系统正在执行的进程的相关信息，包括进程ID,内存占有率，cpu占有率

常用参数：

```
-c 显示完整的进程命令
-s 保密模式
-p <进程号> 指定进程显示
-n <次数>循环显示次数
```





##### kill ：发送指定的信号到相应的进程

常用参数：

```
-l  信号，若果不加信号的编号参数，则使用“-l”参数会列出全部的信号名称
-a  当处理当前进程时，不限制命令名和进程号的对应关系
-p  指定kill 命令只打印相关进程的进程号，而不发送任何信号
-s  指定发送信号
-u  指定用户
```



##### free : 显示系统内存使用情况，包括物理内存，交互区内存和内核缓冲区内存

命令参数：

```
-b 以Byte显示内存使用情况
-k 以kb为单位显示内存使用情况
-m 以mb为单位显示内存使用情况
-g 以gb为单位显示内存使用情况
-s<间隔秒数> 持续显示内存
-t 显示内存使用总合
```



##### 查看linux内核版本：

```
uname -a
cat /proc/version
```

