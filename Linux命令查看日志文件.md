#### linux查看日志文件

##### 1，不要使用vi 命令查看大型日志内容

​		使用vi 命令会把文件所有内容加载到内存中，如果内存不够大，则可能导致服务器瘫痪

##### 2，cat

```
由1开始对所有输出的行数编号
cat -n x.log

由1开始对所有输出的行数编号,但是对空白行不编号
cat -b x.log
```

##### cat仅仅适合查看行数比较少的文件



##### 3，tac(和cat打印顺序相反)

```
tac x.log   // 参数和cat不一样，一般比较少用
```



##### 4，more

```
显示前100行数据
more -100 x.log
```

- 空格键：向下滚动一屏
- Ctrl + B : 向上滚动一屏
- !命令，调用shell,并执行命令
- q : 退出more



##### 5，less

less 可以随意浏览文件，支持翻页和搜索，支持向上翻页和向下翻页

1.全屏导航

- ctrl + F - 向前移动一屏
- ctrl + B - 向后移动一屏
- ctrl + D - 向前移动半屏
- ctrl + U - 向后移动半屏

2.单行导航

- j - 向前移动一行
- k - 向后移动一行

3.其它导航

- G - 移动到最后一行
- g - 移动到第一行
- q / ZZ - 退出 less 命令

4.其它有用的命令

- v - 使用配置的编辑器编辑当前文件
- h - 显示 less 的帮助文档
- &pattern - 仅显示匹配模式的行，而不是整个文件

5.标记导航

当使用 less 查看大文件时，可以在任何一个位置作标记，可以通过命令导航到标有特定标记的文本位置：

- ma - 使用 a 标记文本的当前位置
- 'a - 导航到标记 a 处



##### less 和 more的区别：

1. less可以按键盘上下方向键显示上下内容,more不能通过上下方向键控制显示
2. less不必读整个文件，加载速度会比more更快

3. less退出后shell不会留下刚显示的内容,而more退出后会在shell上留下刚显示的内容



##### 6，head

用于提取文件的前n行

```
提取前10行
head -n 10 x.log

当指定的行数为负数-x时，则会打印出除了后面x行的其他所有数据。
提取除了后10行，全部数据
head -n -10 x.log
```



##### 7，tail

从文件尾部提取数据

```
获取尾部10行数据
tail -n 10 x.log
```



#### 利用管道组合两个命令：

##### 1，cat | grep

```
搜索x.log所有包含"get"的行
cat -n x.log | grep -a "get"
```



##### 2，head | tail

```
打印日志文件中的第11到20行
head -n 20 x.log | tail -n 10

打印日志文件中的第11到20行，并打印出行号
cat -n x.log | head -n 20 x.log | tail -n 10
```



